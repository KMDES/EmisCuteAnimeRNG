<!DOCTYPE html>
<html lang="en">
<head>
<title>Emi's Cute Anime Random Number Generator</title>    
<link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>

<p class="InstructionText">Emi! Fill the text fields then click the button to get a random number generated!</p>
<p></p>
<script>
    
    var clearTextButton = document.body.appendChild(document.createElement('button'));
    var minTextField = document.body.appendChild(document.createElement("input"));
    var maxTextField = document.body.appendChild(document.createElement("input"));
    var generateButton = document.body.appendChild(document.createElement('button'));
    var generatedRandomNumberValue;
    var displayNumber = document.body.appendChild(document.createElement('button'));
    var randomNumberCopyButton = document.body.appendChild(document.createElement('button'));
    var notifyCopied = document.body.appendChild(document.createElement('button'));
    var dance = document.createElement("img");
    var addDance;
    
    window.onload = function () {
        makeTextField();
        createClearTextButton();
        createGenerateButton();
        dance.src = "pictures/frieren-dance-1.gif";
    };
    
    function populateElements(element, id, className, innerHTML){
        element.id = id;
        element.className = className;
        element.innerHTML = innerHTML;
    }
    
    function createClearTextButton() {
        populateElements(clearTextButton, "clearTextButton", "ClearTextButton", "Clear Text Fields")
        clearTextButton.addEventListener('click', function () {
            clearTextField("minTextField", "maxTextField");
        });
    }
    
    function createGenerateButton() {
        populateElements(generateButton, "generateButton", "GenerateButton", "Generate Cute Anime Random Number")
        generateButton.addEventListener("click", function () {
            generateRandomNumber();
        });
    }

    function makeTextField() {
        minTextField.id = "minTextField";
        maxTextField.id = "maxTextField";
        minTextField.className = "MinimumTextField";
        maxTextField.className = "MaximumTextField";
        minTextField.setAttribute("value", "Minimum number Emi!");
        maxTextField.setAttribute("type", "text");
        maxTextField.setAttribute("value", "Maximum number Emi!");
        const minTextFieldID = document.getElementById("MIN");
        const maxTextFieldID = document.getElementById("MAX");	
        minTextField.addEventListener('click', function () {
            clearTextField("minTextField", null);
        });
        maxTextField.addEventListener('click', function () {
            clearTextField(null, "maxTextField");
        });
    }

    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
    }

    function clearTextField(field1, field2){
        if (field1 === "minTextField") {
            document.getElementById("minTextField").value = "";
        }
        if (field2 === "maxTextField") {
            document.getElementById("maxTextField").value = "";
        }
    }
    
    function generateRandomNumber() {
        var convertMinToInt = parseInt(document.getElementById("minTextField").value);
        var convertMaxToInt = parseInt(document.getElementById("maxTextField").value);
        notifyCopied.innerHTML = "";
        if ((!isNaN(convertMinToInt)) && (!isNaN(convertMaxToInt))) {
            generatedRandomNumberValue = getRandomInt(parseInt(document.getElementById("minTextField").value), parseInt(document.getElementById("maxTextField").value));
            displayRandomNumber(generatedRandomNumberValue);
            createRandomNumberCopyButton();
        }
        if ((isNaN(convertMinToInt)) || (isNaN(convertMaxToInt))) {
            document.getElementById("minTextField").value = "We need real numbers here Emi!";
            document.getElementById("maxTextField").value = "We need real numbers here Emi!";
        }
    }
    
    function displayRandomNumber(value) {
        populateElements(displayNumber, "DisplayNumber", "DisplayNumber", (generatedRandomNumberValue))
        addDancingGif();
    }
    
    function createRandomNumberCopyButton() {
        populateElements(randomNumberCopyButton, "randomNumberCopyButton", "RandomNumberCopyButton", "Click Here To Copy Random Number");
        randomNumberCopyButton.addEventListener("click", function () {
            CopyRandomNumber();
        });
    }

    function CopyRandomNumber() {
        //Below 2 lines for Mobile if needed?
        //generatedRandomNumberValue.select();
        //generatedRandomNumberValue.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(generatedRandomNumberValue);
        notifierNumberCopied();
    }
    
    function notifierNumberCopied() {
        populateElements(notifyCopied, "NotifyCopied", "NotifyCopied", ("Copied the Cute Anime Random Number: " + generatedRandomNumberValue));
    }
    
    function addDancingGif(){
        if (!addDance) {
            dance.id = "Dance";
            dance.className = "Dance";
            document.body.appendChild(dance);
        }
    }
    
</script> 
</body>
</html>